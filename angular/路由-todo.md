路由守卫

路由守卫是通过路由来控制对不同地方的访问。

守卫返回一个值，以控制路由器的行为：

- 如果返回true，导航过程会继续；

- 如果返回false，导航过程会终止，且用户留在原地；

- 如果返回UrTree,则取消当前的导航，并且开始导航到返回返回的这个UrTree

注意：守卫还可以告诉路由导航到别处，这样也会取消当前的导航。要想在守卫中这么做，就要返回false

路由器可以支持多种守卫接口：

- 用CanActivate来处理导航到某路由的情况
- 用CanActivateChild来处理导航到某子路由的情况
- 用CanDeactivate来处理从当前路由离开的情况
- 用Resolve在路由激活之前获取路由数据
- 用CanLoad来处理异步导航到某特性模块的情况

在分层路由的每个级别上，都可以设置多个守卫。路由器会先按照从最深的子路由由下往上检查的顺序来检查CanDeactivate()和CanActivateChild()守卫。然后它会按照从上向下的顺序检查CanActivate().如果特性模块是异步加载，在加载他之前还会检查CanLoad()守卫。如果任何一个守卫返回false，其他尚未完成的守卫会被取消，这样整个导航就被取消了。